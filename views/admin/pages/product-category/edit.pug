extends ../../layouts/default.pug
include ../../mixins/alert.pug
block main
  +alert-error(5000)
  h1(class="mb-4") Chỉnh sửa sản phẩm

  form(action=`${prefixAdmin}/products/edit/${product._id}?_method=PATCH`, id="form-create-product", method="POST" enctype="multipart/form-data")
    div(class="form-group mt-2")
      label(for="title") Tiêu đề
      input(class="form-control" type="text", id="title", name="title", value=product.title, required)

    div(class="form-group mt-2")
      label(for="desc") Mô tả
      textarea(class="form-control text-editor" id="desc", name="description", value=product.description rows="5") #{product.description}
    
    div(class="form-group mt-2" style="width: 400px" upload-image)
      label(for="thumbnail") Ảnh
      input(class="form-control" type="file",   
            id="thumbnail", name="thumbnail", accept="image/*" upload-image-input)
      img(src=product.thumbnail class="image-preview" upload-image-preview)
    
    div(class="form-group mt-2")
      label(for="position") Vị trí
      input(class="form-control" type="number", 
            id="position", name="position", placeholder="Tự động tăng", value=product.position, min="1")
    
    div(class="form-group form-check form-check-inline mt-2")
      input(class="form-check-input" type="radio", 
            id="statusActive", name="status", 
            value="active", checked=(product.status == 'active' ? true : false))
      label(for="statusActive" class="form-check-label") Hoạt động
    div(class="form-group form-check form-check-inline mt-2")
      input(class="form-check-input" type="radio", 
            id="statusInActive", name="status", 
            value="inactive", checked=(product.status == 'inactive' ? true : false))
      label(for="statusInActive" class="form-check-label") Dừng hoạt động
    div(class="form-group mt-2")
      button(
        type="submit"
        class="btn btn-primary"
      ) Cập nhật danh mục
    script(src="/admin/js/product.js")